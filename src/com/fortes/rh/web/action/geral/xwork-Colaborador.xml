<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE xwork PUBLIC "-//OpenSymphony Group//XWork 1.0//EN" "http://www.opensymphony.com/xwork/xwork-1.0.dtd">
<xwork>
	<package name="colaborador" extends="default" namespace="/geral/colaborador">
		<action name="findJson" class="com.fortes.rh.web.action.geral.ColaboradorListAction" method="find">
			<result name="success" type="freemarker">/WEB-INF/forms/geral/json.ftl</result>
		    <param name="contentType">application/json</param>
		</action>
		<action name="list" class="com.fortes.rh.web.action.geral.ColaboradorListAction" method="list">
			<interceptor-ref name="defaultListStack">
	    		<param name="scope.session">matriculaBusca,cpfBusca,nomeBusca,situacao,areaOrganizacional.id,estabelecimento.id,cargo.id</param>
	    	</interceptor-ref>	
			<result name="success" type="freemarker">/WEB-INF/forms/geral/colaboradorList.ftl</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/colaboradorList.ftl</result>
		</action>
		<action name="delete" class="com.fortes.rh.web.action.geral.ColaboradorListAction" method="delete">
			<interceptor-ref name="defaultDeleteStack">
				<param name="scope.session">matriculaBusca,cpfBusca,nomeBusca,situacao,areaOrganizacional.id,estabelecimento.id,cargo.id</param>
			</interceptor-ref>
			<result name="success" type="redirect">list.action</result>
			<result name="error" type="redirect">list.action</result>
		</action>
		
		<action name="updateFilter" class="com.fortes.rh.web.action.geral.ColaboradorListAction" method="updateFilter">
	      	<interceptor-ref name="showFilterStack" />			
		</action>		

		<action name="prepareRelatorioAniversariantes" class="com.fortes.rh.web.action.geral.ColaboradorListAction" method="prepareRelatorioAniversariantes">
			<result name="success" type="freemarker">/WEB-INF/forms/geral/relatorioAniversariantes.ftl</result>
		</action>
		<action name="relatorioAniversariantes" class="com.fortes.rh.web.action.geral.ColaboradorListAction" method="relatorioAniversariantes">
			<result name="success" type="jasper">
				<param name="location">WEB-INF/report/aniversariantes.jasper</param>
				<param name="dataSource">colaboradors</param>
				<param name="parametersMap">parametros</param>
			</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/relatorioAniversariantes.ftl</result>
		</action>
		<action name="prepareInsert" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="prepareInsert">
			<result name="success" type="freemarker">/WEB-INF/forms/geral/colaboradorEdit.ftl</result>
		</action>
		<action name="prepareUpdate" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="prepareUpdate">
			<result name="success" type="freemarker">/WEB-INF/forms/geral/colaboradorEdit.ftl</result>
		</action>
		<action name="prepareDesliga" class="com.fortes.rh.web.action.geral.ColaboradorDesligaAction" method="prepareUpdate">
			<result name="success" type="freemarker">/WEB-INF/forms/geral/colaboradorDesliga.ftl</result>
		</action>
		<action name="insert" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="insert">
			<interceptor-ref name="defaultDeleteStack"/>
		    <interceptor-ref name="tokenWebStack" />
		    <result name="invalid.token" type="redirect">list.action</result>
			<result name="success" type="redirect">list.action</result>
			<result name="dependente" type="redirect">/geral/dependente/list.action</result>
			<result name="contrata" type="redirect">/captacao/candidato/list.action</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/colaboradorEdit.ftl</result>
			<result name="error" type="freemarker">/WEB-INF/forms/geral/colaboradorEdit.ftl</result>
		</action>
		<action name="update" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="update">
		    <interceptor-ref name="defaultDeleteStack"/>
		    <interceptor-ref name="tokenWebStack" />
		    <result name="invalid.token" type="redirect">list.action</result>
			<result name="success" type="redirect">list.action</result>
			<result name="dependente" type="redirect">/geral/dependente/list.action</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/colaboradorEdit.ftl</result>
		</action>

		<action name="showFoto" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="showFoto" />

		<action name="desliga" class="com.fortes.rh.web.action.geral.ColaboradorDesligaAction" method="desliga">
		    <interceptor-ref name="defaultDeleteStack"/>
			<result name="success" type="redirect">list.action</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/colaboradorDesliga.ftl</result>
		</action>
		<action name="religa" class="com.fortes.rh.web.action.geral.ColaboradorDesligaAction" method="reLiga">
		    <interceptor-ref name="defaultDeleteStack"/>
			<result name="success" type="redirect">list.action</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/colaboradorDesliga.ftl</result>
		</action>
		<action name="prepareContrata" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="prepareContrata">
			<result name="success" type="freemarker">/WEB-INF/forms/geral/colaboradorEdit.ftl</result>
			<result name="ehColaborador" type="redirect"><![CDATA[/geral/colaborador/preparePromoverCandidato.action?candidato.id=${candidato.id}&solicitacao.id=${solicitacao.id}&candidatoSolicitacaoId=${candidatoSolicitacao.id}]]></result>
		</action>
		<action name="preparePromoverCandidato" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="preparePromoverCandidato">
			<interceptor-ref name="defaultDeleteStack"/>
			<result name="success" type="redirect"><![CDATA[/cargosalario/historicoColaborador/prepareInsert.action?colaborador.id=${colaborador.id}&solicitacao.id=${solicitacao.id}&candidatoSolicitacaoId=${candidatoSolicitacaoId}]]></result>
			<result name="naoEhColaborador" type="redirect"><![CDATA[/captacao/candidatoSolicitacao/list.action?solicitacao.id=${solicitacao.id}]]></result>
		</action>
		<action name="formPrint" class="com.fortes.rh.web.action.geral.ColaboradorReportAction">
			<result name="success" type="jasper">
				<param name="dataSource">emptyDataSource</param>
				<param name="location">WEB-INF/report/ficha_cad_colaborador.jasper</param>
			</result>
		</action>
		<action name="prepareProjecaoSalarialFiltro" class="com.fortes.rh.web.action.geral.ColaboradorReportAction" method="prepareProjecaoSalarialFiltro">
			<result name="success" type="freemarker">/WEB-INF/forms/geral/projecaoSalarialRelatorioFiltro.ftl</result>
		</action>
		<action name="gerarRelatorioProjecaoSalarial" class="com.fortes.rh.web.action.geral.ColaboradorReportAction" method="gerarRelatorioProjecaoSalarial">
			<result name="success" type="jasper">
				<param name="dataSource">dataSource</param>
				<param name="location">WEB-INF/report/projecao_salarial.jasper</param>
				<param name="parametersMap">parametros</param>
			</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/projecaoSalarialRelatorioFiltro.ftl</result>
		</action>
		<action name="gerarRelatorioProjecaoSalarialXLS" class="com.fortes.rh.web.action.geral.ColaboradorReportAction" method="gerarRelatorioProjecaoSalarial">
			<result name="success" type="xls">
				<param name="dataSource">dataSource</param>
				<param name="documentName">projecao_salarial.xls</param>
				<param name="sheetName">Planilha1</param>
				<param name="columns">Estabelecimento - Área Organizacional,Colaborador,Cargo/Faixa,Tipo Salário,Salário</param>
				<param name="properties">descricaoEstabelecimentoAreaOrganizacional,nome,cargoFaixa,tipoSalarioDescricao,salarioHistoricoFormatado</param>
				<param name="reportFilter">reportFilter</param>
				<param name="reportTitle">reportTitle</param>
			</result>					
			<result name="input" type="freemarker">/WEB-INF/forms/geral/projecaoSalarialRelatorioFiltro.ftl</result>
		</action>
		<action name="emailColaboradorSemUsuario" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="emailColaboradorSemUsuario">
			<result name="success" type="redirect">list.action</result>
		</action>
		<action name="prepareColaboradorSolicitacao" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="prepareColaboradorSolicitacao">
			<result name="success" type="redirect"><![CDATA[/captacao/solicitacao/verSolicitacoes.action?candidato.id=${candidato.id}&statusCandSol=${statusCandSol}]]></result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/vincularCandidatoColaborador.ftl</result>
		</action>
		<action name="preparePerformanceFuncional" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="preparePerformanceFuncional">
			<result name="success" type="freemarker">/WEB-INF/forms/geral/colaboradorPerformance.ftl</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/colaboradorPerformance.ftl</result>
		</action>
		<action name="prepareUpdateInfoPessoais" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="prepareUpdateInfoPessoais">
			<result name="success" type="freemarker">/WEB-INF/forms/geral/colaboradorInfoPessoaisEdit.ftl</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/colaboradorInfoPessoaisEdit.ftl</result>
		</action>
		<action name="updateInfoPessoais" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="updateInfoPessoais">
			<result name="success" type="freemarker">/WEB-INF/forms/geral/colaboradorInfoPessoaisEdit.ftl</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/colaboradorInfoPessoaisEdit.ftl</result>
		</action>
		<action name="listCandidato" class="com.fortes.rh.web.action.captacao.CandidatoListAction" method="list">
			<interceptor-ref name="defaultListStack">
	    		<param name="scope.session">nomeBusca,cpfBusca,indicadoPor,observacaoRH,visualizar,dataCadIni,dataCadFim,exibeContratados,exibeExterno</param>
	    	</interceptor-ref>
			<result name="success" type="freemarker">/WEB-INF/forms/captacao/candidatoList.ftl</result>
		</action>
		<action name="prepareRelatorioAdmitidos" class="com.fortes.rh.web.action.geral.ColaboradorListAction" method="prepareRelatorioAdmitidos">
			<result name="success" type="freemarker">/WEB-INF/forms/geral/prepareRelatorioAdmitidos.ftl</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/prepareRelatorioAdmitidos.ftl</result>
		</action>
		
		<action name="relatorioAdmitidos" class="com.fortes.rh.web.action.geral.ColaboradorListAction" method="relatorioAdmitidos">
			<result name="success" type="jasper">
				<param name="location">WEB-INF/report/admitidos.jasper</param>
				<param name="dataSource">colaboradors</param>
				<param name="parametersMap">parametros</param>
				<param name="documentName">admitidos.pdf</param>
			</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/prepareRelatorioAdmitidos.ftl</result>
		</action>
		<action name="relatorioAdmitidosXLS" class="com.fortes.rh.web.action.geral.ColaboradorListAction" method="relatorioAdmitidos">
			<result name="success" type="xls">
				<param name="dataSource">colaboradors</param>
				<param name="documentName">relatorio_de_admitidos.xls</param>
				<param name="sheetName">Planilha1</param>
				<param name="columns">Estabelecimento,Área Organizacional,Colaborador,Cargo/Faixa,Admissão</param>
				<param name="properties">estabelecimento.nome,areaOrganizacional.nome,nome,faixaSalarial.nomesDeCargoEFaixa,dataAdmissaoFormatada</param>
				<param name="reportFilter">reportFilter</param>
				<param name="reportTitle">reportTitle</param>
			</result>		
			<result name="input" type="freemarker">/WEB-INF/forms/geral/prepareRelatorioAdmitidos.ftl</result>
		</action>
		
		<action name="imprimirPerformanceFuncional" class="com.fortes.rh.web.action.geral.ColaboradorEditAction" method="imprimirPerformanceFuncional">
			<result name="success" type="jasper">
				<param name="location">WEB-INF/report/performanceFuncional.jasper</param>
				<param name="dataSource">relatorioPerformanceFuncional</param>
				<param name="parametersMap">parametros</param>
				<param name="documentName">listagemPerformanceFuncional.pdf</param>
			</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/colaboradorPerformance.ftl</result>
		</action>
		<action name="prepareRelatorioDinamico" class="com.fortes.rh.web.action.geral.ColaboradorListAction" method="prepareRelatorioDinamico">
			<result name="success" type="freemarker">/WEB-INF/forms/geral/colaboradorListagemRelatorio.ftl</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/colaboradorListagemRelatorio.ftl</result>
		</action>
		<action name="relatorioDinamico" class="com.fortes.rh.web.action.geral.ColaboradorListAction" method="relatorioDinamico">
			<result name="success" type="jasper">
				<param name="location">WEB-INF/report/colaboradorDinamico.jrxml</param>
				<param name="reportInputStream">reportInputStream</param>
				<param name="dataSource">dataSource</param>
				<param name="parametersMap">parametros</param>
				<param name="documentName">listagemColaboradores.pdf</param>
			</result>
			<result name="input" type="freemarker">/WEB-INF/forms/geral/colaboradorListagemRelatorio.ftl</result>
		</action>
		<action name="relatorioDinamicoXLS" class="com.fortes.rh.web.action.geral.ColaboradorListAction" method="relatorioDinamicoXLS">
			<result name="success" type="xls">
				<param name="dataSource">colaboradores</param>
				<param name="documentName">colaboradorDinamico.xls</param>
				<param name="sheetName">Planilha1</param>
				<param name="dinamicColumns">dinamicColumns</param>
				<param name="dinamicProperties">dinamicProperts</param>
				<param name="reportFilter">reportFilter</param>
				<param name="reportTitle">reportTitle</param>
			</result>	
			<result name="input" type="freemarker">/WEB-INF/forms/geral/colaboradorListagemRelatorio.ftl</result>
		</action>
	</package>
</xwork>